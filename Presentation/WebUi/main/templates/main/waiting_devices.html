{% extends "main/base.html" %}

{% block title %}{{ title }}{% endblock %}

{% block content %}
    <h3>{{ title }}</h3>

    {% if devices %}
        <ul class="collection">
            {% for device in devices %}
                {% include "main/waiting_device_modal.html" with id=device.id name=device.name %}
                {% include "main/waiting_devices_line.html" with name=device.name id=device.id provided_func=device.provided_func|join:', ' %}
            {% endfor %}
        </ul>
    {% else %}
        <div class="valign-wrapper" style="width: 100%; height: 9em">
            <h6 class="valign center" style="width: 100%;">Not found any device</h6>
        </div>
    {% endif %}

    <script type="text/javascript">
        // init modal windows
        $(document).ready(function () {
            $('.modal').modal();
        });

        // remove device in modal window
        // set hidden input "remove-device" to true
        function removeDevice(deviceId) {
            var form = $("#input-" + deviceId).attr('value', true);
            $("#form-" + deviceId).submit();
        }
    </script>

{% endblock %}